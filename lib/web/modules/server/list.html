<div class="content-wrapper" ng-controller="ServerListCtrl as list">
    <section class="content-header">
        <h1>
            Dashboard
            <small>All valid proxy servers.</small>
        </h1>
        <ol class="breadcrumb">
            <li>
                <i class="fa fa-globe"></i> Home
            </li>
            <li class="active">Servers</li>
        </ol>
    </section>
    <section class="content servers container-fluid">
        <p>
            <button class="btn btn-default" ng-click="list.create()">
                <i class="fa fa-plus"></i>
                Create Server
            </button>
        </p>
        <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-4 col-lg-3" ng-repeat="server in list.servers">
                <div class="box box-solid"
                     ng-class="{'box-success' : server.status === 'running','box-default' : server.status === 'sleeping'}">
                    <div class="box-header">
                        <h3 class="box-title">
                            {{server.config.name}}
                        </h3>
                    </div>
                    <div class="box-body">
                        <div>
                            Listening Port
                            <a class="pull-right">{{server.port}}</a>
                        </div>
                        <hr/>
                        <div>
                            Request Completed
                            <a class="pull-right">{{server.reporter.completed}}</a>
                        </div>
                        <hr/>
                        <div>
                            Request Failed
                            <a class="pull-right">{{server.reporter.failed}}</a>
                        </div>
                        <hr/>
                        <div>
                            <a class="btn btn-xs btn-default"
                               href="/ui/server/{{server.id}}">
                                <i class="fa fa-eye"></i>
                                Inspect
                            </a>
                            <button class="btn btn-xs btn-default" ng-click="server.reload();">
                                <i class="fa fa-play-circle"></i>
                                Reload
                            </button>
                            <div class="pull-right" style="margin-top: 1px;">
                                <span class="pull-right badge bg-green"
                                      ng-if="server.status === 'running'">Running</span>
                                <span class="pull-right badge" ng-if="server.status === 'sleeping'">Stopped</span>
                            </div>
                            <div class="overlay" ng-if="server.isLoading">
                                <i class="fa fa-refresh fa-spin"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>